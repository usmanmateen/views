<!DOCTYPE html>
<html>
<head>
    <title>YouTube Video Embed</title>
    <meta http-equiv="Content-Security-Policy" content="frame-src 'self' https://www.youtube.com;">
    <style>
        .video-container {
            display: flex;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .video-container iframe {
            width: 400px;
            height: 300px;
            margin: 10px;
        }
    </style>
</head>
<body>
    <h1>YouTube Video Embed</h1>
    <label for="video-link">YouTube Video/Short URL:</label>
    <input type="text" id="video-link">

    <label for="embed-count">Number of Embeds:</label>
    <input type="number" id="embed-count" min="1" max="10">

    <button onclick="embedVideos()">Play</button>

    <div class="video-container" id="video-container"></div>

    <script>
        function createVideoFrame(videoUrl) {
            var iframe = document.createElement("iframe");
            iframe.src = videoUrl;
            iframe.allowfullscreen = true;
            iframe.setAttribute("allow", "autoplay");
            return iframe;
        }

        function getVideoIdFromUrl(url) {
            var regex = /[?&]v=([^&#]*)/;
            var match = regex.exec(url);
            if (match && match[1]) {
                return match[1];
            }
            return null;
        }

        function embedVideos() {
            var videoUrl = document.getElementById("video-link").value;
            var embedCount = parseInt(document.getElementById("embed-count").value);
            var videoContainer = document.getElementById("video-container");

            videoContainer.innerHTML = "";

            var videoId = getVideoIdFromUrl(videoUrl);

            if (videoId) {
                var videoType = videoUrl.includes("/shorts/") ? "short" : "long";

                for (var i = 0; i < embedCount; i++) {
                    var videoFrame;
                    if (videoType === "short") {
                        videoFrame = createVideoFrame("https://www.youtube.com/embed/SHORT_ID");
                    } else {
                        videoFrame = createVideoFrame("https://www.youtube.com/embed/" + videoId);
                    }
                    videoContainer.appendChild(videoFrame);
                }
            } else {
                videoContainer.innerHTML = "Invalid YouTube video/short URL";
            }
        }
    </script>
    <script src="https://www.youtube.com/iframe_api"></script>
</body>
</html>
